{% extends "base.html" %}
{% load report_extras %}
{% block title %}Макет — Таблица 2 — {{ date|date:"d.m.Y" }}{% endblock %}

{% block content %}
<style>
  .xwrap{background:#fff;border:1px solid #111;border-radius:10px;overflow:auto}
  .xtable{border-collapse:collapse;min-width:900px;width:100%;table-layout:fixed}
  .xtable th,.xtable td{border:1px solid #111;padding:6px 6px;font-size:12px;text-align:center;vertical-align:middle}
  .head{font-weight:900;text-align:center;padding:10px;border-bottom:1px solid #111}
  .left{text-align:left;font-weight:900}
</style>

<div class="card">
  <div style="display:flex;justify-content:space-between;gap:10px;flex-wrap:wrap;align-items:center;">
    <h2 style="margin:0;">Макет — {{ date|date:"d.m.Y" }}</h2>
    <a class="btn" style="text-decoration:none;background:#e5e7eb;color:#111;border:1px solid #cbd5e1;"
       href="{% url 'admin_table2_reports' %}">← Назад</a>
  </div>

  <div class="xwrap" style="margin-top:10px;">
    <div class="head">
      Работа с контейнерами (по оперативным данным)<br>
      Дата {{ date|date:"d.m.Y" }}
    </div>

    <table class="xtable">
      <colgroup>
        <col style="width:280px">
        <col style="width:90px">
        {% for c in cols %}
          <col style="width:120px">
        {% endfor %}
      </colgroup>

      <thead>
        <tr>
          <th>Показатели</th>
          <th></th>
          {% for c in cols %}
            <th>{{ c.title }}</th>
          {% endfor %}
        </tr>
      </thead>

      <tbody>
        <tr>
          <td rowspan="2" class="left">Рабочий парк</td>
          <td class="left">Конт</td>
          {% for c in cols %}<td><b>{{ buckets|get_item:c.key|get_item:"work_cont" }}</b></td>{% endfor %}
        </tr>
        <tr>
          <td class="left">КР</td>
          {% for c in cols %}<td><b>{{ buckets|get_item:c.key|get_item:"work_kr" }}</b></td>{% endfor %}
        </tr>

        <tr>
          <td rowspan="2" class="left">Погрузка контейнеров</td>
          <td class="left">Конт</td>
          {% for c in cols %}<td><b>{{ buckets|get_item:c.key|get_item:"pogr_cont" }}</b></td>{% endfor %}
        </tr>
        <tr>
          <td class="left">КР</td>
          {% for c in cols %}<td><b>{{ buckets|get_item:c.key|get_item:"pogr_kr" }}</b></td>{% endfor %}
        </tr>

        <tr>
          <td rowspan="2" class="left">Выгрузка контейнеров</td>
          <td class="left">Конт</td>
          {% for c in cols %}<td><b>{{ buckets|get_item:c.key|get_item:"vygr_cont" }}</b></td>{% endfor %}
        </tr>
        <tr>
          <td class="left">КР</td>
          {% for c in cols %}<td><b>{{ buckets|get_item:c.key|get_item:"vygr_kr" }}</b></td>{% endfor %}
        </tr>

        <tr>
          <td class="left">Выгрузка ТУК</td>
          <td></td>
          {% for c in cols %}<td><b>{{ buckets|get_item:c.key|get_item:"vygr_tuk" }}</b></td>{% endfor %}
        </tr>

        <tr>
          <td rowspan="2" class="left">Парк на площадке</td>
          <td class="left">Конт</td>
          {% for c in cols %}<td><b>{{ buckets|get_item:c.key|get_item:"site_cont" }}</b></td>{% endfor %}
        </tr>
        <tr>
          <td class="left">КР</td>
          {% for c in cols %}<td><b>{{ buckets|get_item:c.key|get_item:"site_kr" }}</b></td>{% endfor %}
        </tr>

        <tr>
          <td rowspan="2" class="left">К вывозу</td>
          <td class="left">Конт</td>
          {% for c in cols %}<td><b>{{ buckets|get_item:c.key|get_item:"to_export_cont" }}</b></td>{% endfor %}
        </tr>
        <tr>
          <td class="left">КР</td>
          {% for c in cols %}<td><b>{{ buckets|get_item:c.key|get_item:"to_export_kr" }}</b></td>{% endfor %}
        </tr>

        <tr>
          <td rowspan="2" class="left">Готовые к отправлению</td>
          <td class="left">Конт</td>
          {% for c in cols %}<td><b>{{ buckets|get_item:c.key|get_item:"ready_cont" }}</b></td>{% endfor %}
        </tr>
        <tr>
          <td class="left">КР</td>
          {% for c in cols %}<td><b>{{ buckets|get_item:c.key|get_item:"ready_kr" }}</b></td>{% endfor %}
        </tr>

        <tr>
          <td rowspan="2" class="left">Порожние</td>
          <td class="left">Конт</td>
          {% for c in cols %}<td><b>{{ buckets|get_item:c.key|get_item:"empty_cont" }}</b></td>{% endfor %}
        </tr>
        <tr>
          <td class="left">КР</td>
          {% for c in cols %}<td><b>{{ buckets|get_item:c.key|get_item:"empty_kr" }}</b></td>{% endfor %}
        </tr>

        <tr>
          <td rowspan="2" class="left">Под сортировку</td>
          <td class="left">Конт</td>
          {% for c in cols %}<td><b>{{ buckets|get_item:c.key|get_item:"sort_cont" }}</b></td>{% endfor %}
        </tr>
        <tr>
          <td class="left">КР</td>
          {% for c in cols %}<td><b>{{ buckets|get_item:c.key|get_item:"sort_kr" }}</b></td>{% endfor %}
        </tr>
      </tbody>
    </table>
  </div>
</div>
{% endblock %}
