{% load static %}
{% block content %}

<style>
html, body {
  margin: 0 !important;
  padding: 0 !important;
  height: 100%;
}

:root{
  --bg1:#f5f7ff;
  --bg2:#eefcff;
  --bg3:#fff3ec;

  --card:#ffffffcc;
  --text:#0f172a;
  --muted:#475569;

  --primary:#4f46e5;
  --green:#22c55e;
  --cyan:#06b6d4;

  --shadow:0 25px 70px rgba(15,23,42,.12);
}

.theme-dark{
  --bg1:#070a13;
  --bg2:#0b1020;
  --bg3:#0b142b;
  --card:#0b1222cc;
  --text:#e5e7eb;
  --muted:#94a3b8;
  --shadow:0 30px 80px rgba(0,0,0,.45);
}

.auth-page{
  min-height:100vh;
  display:flex;
  align-items:center;
  justify-content:center;
  position:relative;
  overflow:hidden;
  background:
    radial-gradient(800px 400px at 10% 15%, rgba(79,70,229,.18), transparent 60%),
    radial-gradient(700px 380px at 90% 20%, rgba(34,197,94,.18), transparent 60%),
    radial-gradient(700px 420px at 50% 95%, rgba(6,182,212,.18), transparent 60%),
    linear-gradient(135deg,var(--bg1),var(--bg2),var(--bg3));
}

/* --- Background images --- */
.bg-img{
  position:absolute;
  pointer-events:none;
  opacity:.42;
  filter:blur(2px);
  object-fit: cover;
}
.bg-train{ left:-120px; bottom:40px; max-width:520px; }
.bg-truck{ right:-140px; top:60px; max-width:520px; }

.bg-operator{
  position:absolute;
  right:calc(50% - 520px);
  bottom:40px;
  max-width:320px;
  z-index:2;
  filter:drop-shadow(0 30px 60px rgba(0,0,0,.25));
}

/* --- Card --- */
.auth-card{
  width:min(980px,100%);
  display:grid;
  grid-template-columns:1.1fr .9fr;
  gap:18px;
  z-index:3;
}

.panel{
  background:var(--card);
  border-radius:24px;
  padding:22px;
  box-shadow:var(--shadow);
  backdrop-filter:blur(14px);
}

/* --- Left --- */
.brand{
  display:flex;
  gap:12px;
  align-items:center;
}
.brand img{
  width:46px;
  height:46px;
  border-radius:14px;
}
.brand h1{
  margin:0;
  font-size:15px;
  font-weight:900;
  color:var(--text);
}
.brand p{
  margin:2px 0 0;
  font-size:12.5px;
  color:var(--muted);
}

.headline{
  margin:14px 0 6px;
  font-size:22px;
  font-weight:900;
  color:var(--text);
}
.subline{
  margin:0;
  color:var(--muted);
  font-size:13.5px;
  max-width:52ch;
}

.chips{
  margin-top:14px;
  display:flex;
  gap:10px;
  flex-wrap:wrap;
}
.chip{
  background:#ffffffb3;
  border-radius:16px;
  padding:10px 12px;
  font-size:12.5px;
  box-shadow:0 10px 24px rgba(0,0,0,.06);
}
.theme-dark .chip{ background:#ffffff14; }

/* --- Right --- */
.topbar{
  display:flex;
  justify-content:space-between;
  align-items:center;
}
.toggles{
  display:flex;
  gap:8px;
}
button, select{
  border-radius:12px;
  padding:6px 10px;
  border:none;
  cursor:pointer;
}

h2{
  margin:10px 0 0;
  font-size:18px;
  color:var(--text);
}
p{
  margin:0;
  font-size:12.8px;
  color:var(--muted);
}

.field{
  margin-top:10px;
  display:flex;
  flex-direction:column;
  gap:6px;
}
label{
  font-size:12.5px;
  color:var(--muted);
}
input{
  padding:12px;
  border-radius:14px;
  border:1px solid rgba(0,0,0,.1);
  outline:none;
}
input:focus{
  border-color:var(--primary);
  box-shadow:0 0 0 4px rgba(79,70,229,.15);
}

.btn{
  margin-top:14px;
  width:100%;
  padding:12px;
  border-radius:16px;
  border:none;
  color:white;
  font-weight:900;
  background:linear-gradient(135deg,var(--primary),var(--green),var(--cyan));
}

.footer{
  margin-top:6px;
  font-size:12px;
  text-align:center;
  color:var(--muted);
}

@media(max-width:900px){
  .auth-card{ grid-template-columns:1fr; }
  .bg-train,.bg-truck{ display:none; }
  .bg-operator{
    position:static;
    margin:0 auto 20px;
    display:block;
    max-width:220px;
  }
}
</style>

<div class="auth-page" id="authRoot">

  <!-- Background images -->
  <img src="{% static 'images/train_container.jpg' %}" class="bg-img bg-train">
  <img src="{% static 'images/truck_container.png' %}" class="bg-img bg-truck">
  <img src="{% static 'images/operator_girl.png' %}" class="bg-operator">

  <div class="auth-card">

    <!-- LEFT -->
    <div class="panel">
      <div class="brand">
        <img src="{% static 'images/logo.png' %}">
        <div>
          <h1 data-i18n="brand">Uztemiryoâ€˜l Konteyner AJ</h1>
          <p data-i18n="brand_sub">Ortishâ€“tushirish monitoring platformasi</p>
        </div>
      </div>

      <div class="headline" data-i18n="hero">
        Kundalik ish hajmini bir oynada koâ€˜ring
      </div>
      <p class="subline" data-i18n="desc">
        Oâ€˜sish/kamayish, umumiy salohiyat va reja/fakt tahlili.
      </p>

      <div class="chips">
        <div class="chip">ðŸ“Š Trendlar</div>
        <div class="chip">ðŸš† Salohiyat</div>
        <div class="chip">ðŸ“¦ Hisobot</div>
      </div>
    </div>

    <!-- RIGHT -->
    <div class="panel">
      <div class="topbar">
        <div></div>
        <div class="toggles">
          <select id="lang">
            <option value="uz">UZ</option>
            <option value="ru">RU</option>
            <option value="en">EN</option>
          </select>
          <button id="theme">ðŸŒ™</button>
        </div>
      </div>

      <h2 data-i18n="login">Kirish</h2>
      <p data-i18n="login_sub">Login va parolni kiriting</p>

      {% if form.errors %}
      <div style="color:red;font-size:12px;margin-top:6px;">
        Login yoki parol notoâ€˜gâ€˜ri
      </div>
      {% endif %}

      <form method="post">
        {% csrf_token %}
        <div class="field">
          <label data-i18n="user">Login</label>
          {{ form.username }}
        </div>
        <div class="field">
          <label data-i18n="pass">Parol</label>
          {{ form.password }}
        </div>
        <button class="btn" type="submit" data-i18n="btn">Kirish</button>
        <div class="footer" data-i18n="footer">
          Kirishlar audit qilinadi
        </div>
      </form>
    </div>

  </div>
</div>

<script>
const root=document.getElementById("authRoot");
document.getElementById("theme").onclick=()=>{
  root.classList.toggle("theme-dark");
};

const dict={
  uz:{brand:"Uztemiryoâ€˜l Konteyner AJ",login:"Kirish",user:"Login",pass:"Parol",btn:"Kirish"},
  ru:{brand:"Ð£Ð·Ñ‚ÐµÐ¼Ð¸Ñ€Ð¹ÑƒÐ» ÐšÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€ ÐÐ–",login:"Ð’Ñ…Ð¾Ð´",user:"Ð›Ð¾Ð³Ð¸Ð½",pass:"ÐŸÐ°Ñ€Ð¾Ð»ÑŒ",btn:"Ð’Ð¾Ð¹Ñ‚Ð¸"},
  en:{brand:"Uztemiryoâ€˜l Container",login:"Sign in",user:"Username",pass:"Password",btn:"Sign in"}
};

document.getElementById("lang").onchange=e=>{
  const t=dict[e.target.value];
  document.querySelectorAll("[data-i18n]").forEach(el=>{
    const k=el.dataset.i18n;
    if(t[k]) el.textContent=t[k];
  });
};
</script>

{% endblock %}
